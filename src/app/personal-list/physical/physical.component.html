<div class="row">
    <div class="col-md" align="right">
        <button type="button" class="btn btn-warning" (click)="openModal(ModalPhysical)">+เพิ่มข้อมูลก่อนการรักษา</button>

    </div>
</div>
<div class="container">
    <ngx-datatable class="bootstrap" [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50" [rowHeight]="'auto'" [rows]="rows">
        <ngx-datatable-column name="อุณหภูมิ">
            <ng-template let-rowIndex="rowIndex" let-value="value" ngx-datatable-cell-template>
                {{value.phyTemp}}
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="ค่า BMI">
            <ng-template let-value="value" ngx-datatable-cell-template>

            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="ส่วนสูง">
            <ng-template let-value="value" ngx-datatable-cell-template>
                {{value.phyHeight}}
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="น้ำหนัก">
            <ng-template let-value="value" ngx-datatable-cell-template>
                {{value.phyWeight}}
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="เครื่องมือ">
            <ng-template let-value="value" ngx-datatable-cell-template>
                <div class="row">
                    <div class="col-3">
                        <img src="../assets/images/395848.svg" (click)="delete(value)" width="30px" height="30px" title="ลบ">
                    </div>
                    <div class="col-3">
                        <img src="../assets/images/edit.png" (click)="openEdit(ModalPhysical, value)" width="30px" height="30px" title="แก้ไข">
                    </div>
                    <div class="col">
                        <img src="../assets/images/view.png" (click)="openModalView(ModalviewPhysical, value)" width="30px" height="30px" title="ดูข้อมูล">
                    </div>
                </div>



            </ng-template>
        </ngx-datatable-column>
    </ngx-datatable>
</div>
<ng-template #ModalPhysical>
    <div class="modal-header">
        <h4 class="modal-title pull-left">ตรวจร่างกายก่อนการรักษา</h4>
    </div>
    <div class="modal-body">

        <div class="row">

            <div class="col-12">
                <div class="alert alert-info" role="alert">
                    <div class="row">
                        <form class="col" [formGroup]="form" (ngSubmit)="submit()">
                            <div class="row">
                                <div class="col">
                                    <label for="inputEmail4">อุณหภูมิ ( Temp )</label>
                                    <input type="text" class="form-control" placeholder="" formControlName="phyTemp">
                                </div>
                                <div class="col">
                                    <label for="inputEmail4">ชีพจร( Pulse ) ครั้ง/นาที ( Beats/min )</label>
                                    <input type="text" class="form-control" placeholder="" formControlName="phyPulse">
                                </div>

                            </div>
                            <div class="row">
                                <div class="col">
                                    <label for="inputEmail4">การหายใจ ( Respiration ) ครั้ง/นาที ( Beats/min )</label>
                                    <input type="text" class="form-control" placeholder="" formControlName="phyRespirationRate">
                                </div>
                                <div class="col">
                                    <label for="inputEmail4">ความดันโลหิต ( BP ) มม.ปรอท ( mmHg )</label>
                                    <input type="text" class="form-control" placeholder="" formControlName="phyBp">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <label for="inputEmail4">ส่วนสูง ( Height ) ซม. ( cm. ) </label>
                                    <input type="text" class="form-control" placeholder="" formControlName="phyHeight">
                                </div>
                                <div class="col">
                                    <label for="inputEmail4">น้ำหนัก ( Weight ) กก. ( Kg.)</label>
                                    <input type="text" class="form-control" placeholder="" formControlName="phyWeight">
                                </div>
                                <div class="col">
                                    <label for="inputEmail4">ค่า BMI</label>
                                    <input type="text" class="form-control" placeholder="">
                                </div>
                            </div>
                            <br>
                            <u>
                                <b>กรณีมีความเจ็บปวดให้บันทึกระดับความเจ็บปวดด้วย ( For pain,please record pain score )</b>
                            </u>
                            <br>
                            <b>
                                <label>มาตรวัดความปวด( ก่อนการรักษา ) Pain score ( Pre-treatment )</label>
                            </b>
                            <div class="row">
                                <div class="col-2">
                                    <label>ไม่ปวดเลย</label>
                                </div>
                                <div class="col-2">
                                    <label>ปวดปานกลาง</label>
                                </div>
                                <div class="col">
                                    <label>ปวดมากที่สุด</label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
                                        <div class="btn-group mr-2" role="group" aria-label="First group">
                                            <button type="button" class="btn btn-outline-success">0</button>
                                            <button type="button" class="btn btn-outline-success">1</button>
                                            <button type="button" class="btn btn-outline-success">2</button>
                                            <button type="button" class="btn btn-outline-success">3</button>
                                        </div>
                                        <div class="btn-group mr-2 " role="group" aria-label="Second group">
                                            <button type="button" class="btn btn-outline-warning">4</button>
                                            <button type="button" class="btn btn-outline-warning">5</button>
                                            <button type="button" class="btn btn-outline-warning">6</button>

                                        </div>
                                        <div class="btn-group" role="group" aria-label="Third group">
                                            <button type="button" class="btn btn-outline-danger">7</button>
                                            <button type="button" class="btn btn-outline-danger">8</button>
                                            <button type="button" class="btn btn-outline-danger">9</button>
                                            <button type="button" class="btn btn-outline-danger">10</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-7">
                                    <img src="https://i.pinimg.com/564x/ce/cb/54/cecb54937b75383be0d99c6b94758739.jpg" width="400px" height="200px">
                                </div>
                                <div class="col">
                                    <label>ส่วนของร่างกาย ( BodyParth )</label>
                                    <select formControlName="phyBodyParth" class="form-control">
                                        <option *ngFor="let data of bodyparth" placeholder="เลือกส่วนของร่างกาย" [value]="data">{{data}}</option>
                                    </select>
                                </div>
                            </div>
                            <br>
                            <u>
                                <b>การวินิจฉัยทางการแพทย์แผนปัจจุบัน ( ถ้ามี ) Modern Medical diagnosis ( if provided )</b>
                            </u>
                            <div class="row">
                                <div class="col">
                                    <label for="inputEmail4"></label>
                                    <textarea name="address" class="form-control" row="3"></textarea>
                                </div>
                            </div>
                            <br>
                            <div class="footer col-md" align="right">
                                <button type="submit" aria-label="Close" class="btn btn-primary">บันทึก</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-template>
<ng-template #ModalviewPhysical>
    <div class="modal-header">
        <h4 class="modal-title pull-left">ตรวจร่างกายก่อนการรักษา</h4>
    </div>
    <div class="modal-body alert-info">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="alert bg-light text-dark" role="alert">

                        <div class="row">
                            <div class="col-3">
                                <label>อุณหภูมิ :</label>
                            </div>
                            <div class="col-2">
                                {{form.value.phyTemp}}
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <label>ชีพจร :</label>
                            </div>
                            <div class="col-2">
                                {{form.value.phyPulse}}
                            </div>
                            <div class="col">
                                <label>ครั้ง/นาที</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <label>ความดันโลหิต :</label>
                            </div>
                            <div class="col-2">
                                {{form.value.phyBp}}
                            </div>
                            <div class="col">
                                <label>มม.ปรอท</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <label>ค่า BMI :</label>
                            </div>
                            <div class="col-8">

                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <label>การหายใจ :</label>
                            </div>
                            <div class="col-2">
                                {{form.value.phyRespirationRate}}
                            </div>
                            <div class="col">
                                <label>ครั้ง/นาที</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <label>ส่วนสูง :</label>
                            </div>
                            <div class="col-2">
                                {{form.value.phyHeight}}
                            </div>
                            <div class="col">
                                <label>ซม.</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <label>น้ำหนัก :</label>
                            </div>
                            <div class="col-2">
                                {{form.value.phyWeight}}
                            </div>
                            <div class="col">
                                <label>กก.</label>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-template>